<!doctype html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Prototype UX - Evaluation de productions</title>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.css"
    />
  </head>
  <body>
    <div id="elm-main"></div>

    <script type="module">
      import { enableDragDropTouch } from "https://unpkg.com/@dragdroptouch/drag-drop-touch@2.0.3/dist/drag-drop-touch.esm.min.js";
      enableDragDropTouch(document, document, {
        forceListen: true,
        allowDragScroll: false,
      });
    </script>

    <script
      defer
      src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.js"
    ></script>
    <script
      defer
      src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/contrib/auto-render.min.js"
    ></script>

    <script src="main.js"></script>
    <script>
      var app = Elm.Main.init({ node: document.getElementById("elm-main") });

      function renderMath() {
        if (!window.renderMathInElement) {
          return;
        }

        window.renderMathInElement(document.body, {
          delimiters: [
            { left: "$$", right: "$$", display: true },
            { left: "$", right: "$", display: false },
          ],
          throwOnError: false,
        });
      }

      function scheduleRenderMath() {
        window.requestAnimationFrame(function () {
          window.setTimeout(renderMath, 0);
        });
      }

      scheduleRenderMath();

      if (app.ports && app.ports.renderMath) {
        app.ports.renderMath.subscribe(function () {
          scheduleRenderMath();
        });
      }
    </script>
  </body>
</html>
